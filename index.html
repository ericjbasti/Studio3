<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" >
    <title>Studio3</title>
	<meta name="viewport" content="width=device-width, user-scalable=0, maximum-scale=1"/>
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link rel="apple-touch-icon" href="icon.png" />
</head>

<body style="margin:0;background: #333">
	<canvas id="canvas" height="320" width="320"  style="cursor:pointer;margin: 0 auto;display: block;outline:1px solid #BBFF00;"></canvas>
</body>
<script src="studio.js"></script>
<script src="requirements.js"></script>
<script src="display/displayObject.js"></script>
<script src="display/LinkedList.js"></script>
<script src="display/DisplayList.js"></script>
<script src="display/Plugin.js"></script>
<script src="display/rect.js"></script>
<script src="display/image.js"></script>
<script src="display/sprite.js"></script>
<script src="display/camera.js"></script>
<script src="display/scene.js"></script>
<script src="display/stage.js"></script>
<script src="engines/webgl.js"></script>
<script src="engines/canvas.js"></script>
<script src="display/tween.js"></script>
<script src="display/font.js"></script>
<script src="display/textbox.js"></script>
<script src="input/keyboard.js"></script>
<script src="input/touch.js"></script>

<script>
	
var stage = new Studio.Stage('canvas',{webgl:1, dur:1000/20, fullscreen:1})

var MAX = 16000/100;
gravity = 3;
for (var i = 0; i!=MAX;i++){
	var yy=new Studio.Rect({x:stage.width/2 ,y:Math.random()*320,width:7 ,height:7 ,velocityX: 2-(Math.random()*4),velocityY: (Math.random()*3), hit:10});
	yy.color.a=1;
	yy.color.r=Math.random();
	yy.color.g=Math.random();
	yy.color.b=Math.random();
	yy.color.build_style();
	yy.onEnterFrame= function(){
		this.velocityY += gravity
		this.x+=this.velocityX;
		this.y+=this.velocityY;
		if(this.x>stage.width || this.x<0){
			this.velocityX *=-1
		}
		if(this.y>stage.height){
			this.velocityY*=-.8;
			this.hit--;
			this.y = stage.height-1;
		}
		if(!this.hit){
			this.y = 0;
			// this.__y = 0;
			this.x = stage.width/2;
			// this.__x = this.x;
			this.hit = 10;
			this.velocityY = (Math.random()*3);
			this._snapback();
		}
	}
	stage.addChild(yy);
	yy._snapback();
}

Studio.start();

</script>


</html>

